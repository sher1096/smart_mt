# æ™ºæ…§åŒ»ç–—æ‚£è€…ç«¯ - é¡¹ç›®æ–‡ä»¶æ¸…å•

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡
- Vue ç»„ä»¶: 16 ä¸ª
- TypeScript æ–‡ä»¶: 10 ä¸ª
- æ€»ä»£ç è¡Œæ•°: 3789 è¡Œ
- æŠ€æœ¯æ ˆ: Vue 3 + TypeScript + Vite + Naive UI

## ğŸ“ æ–‡ä»¶ç»“æ„

### æ ¹ç›®å½•é…ç½®æ–‡ä»¶
```
/home/sherluoke/smart_mt_v2/patient/
â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.ts            # Vite æ„å»ºé…ç½®
â”œâ”€â”€ tsconfig.json             # TypeScript é…ç½®
â”œâ”€â”€ tsconfig.node.json        # Node ç¯å¢ƒ TS é…ç½®
â”œâ”€â”€ index.html                # HTML å…¥å£æ¨¡æ¿
â”œâ”€â”€ .env.development          # å¼€å‘ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.production           # ç”Ÿäº§ç¯å¢ƒå˜é‡
â”œâ”€â”€ .gitignore                # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ CHANGELOG.md              # æ›´æ–°æ—¥å¿—
```

### æºä»£ç ç›®å½• (src/)
```
src/
â”œâ”€â”€ main.ts                   # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ App.vue                   # æ ¹ç»„ä»¶
â”œâ”€â”€ AppContent.vue            # å†…å®¹åŒ…è£…ç»„ä»¶
â”œâ”€â”€ vite-env.d.ts             # Vite ç±»å‹å£°æ˜
â”‚
â”œâ”€â”€ api/                      # API æ¥å£å±‚
â”‚   â”œâ”€â”€ auth.ts               # è®¤è¯ API (ç™»å½•/æ³¨å†Œ/ç”¨æˆ·ä¿¡æ¯)
â”‚   â”œâ”€â”€ department.ts         # ç§‘å®¤ API
â”‚   â”œâ”€â”€ doctor.ts             # åŒ»ç”Ÿ API
â”‚   â”œâ”€â”€ appointment.ts        # é¢„çº¦æŒ‚å· API
â”‚   â””â”€â”€ index.ts              # API ç»Ÿä¸€å¯¼å‡º + å…¶ä»– API
â”‚
â”œâ”€â”€ stores/                   # Pinia çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ user.ts               # ç”¨æˆ·çŠ¶æ€ (token/userInfo/ç™»å½•çŠ¶æ€)
â”‚
â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ request.ts            # Axios å°è£… (æ‹¦æˆªå™¨/Token/é”™è¯¯å¤„ç†)
â”‚
â”œâ”€â”€ router/                   # Vue Router è·¯ç”±
â”‚   â””â”€â”€ index.ts              # è·¯ç”±é…ç½® + è·¯ç”±å®ˆå«
â”‚
â”œâ”€â”€ layouts/                  # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ MobileLayout.vue      # ç§»åŠ¨ç«¯å¸ƒå±€ (TabBarå¯¼èˆª)
â”‚
â””â”€â”€ views/                    # é¡µé¢ç»„ä»¶
    â”œâ”€â”€ home/
    â”‚   â””â”€â”€ index.vue         # é¦–é¡µ (è½®æ’­/å¿«æ·å…¥å£/ç§‘å®¤/åŒ»ç”Ÿ/èµ„è®¯)
    â”‚
    â”œâ”€â”€ login/
    â”‚   â””â”€â”€ index.vue         # ç™»å½•é¡µé¢
    â”‚
    â”œâ”€â”€ register/
    â”‚   â””â”€â”€ index.vue         # æ³¨å†Œé¡µé¢
    â”‚
    â”œâ”€â”€ profile/
    â”‚   â””â”€â”€ index.vue         # ä¸ªäººä¸­å¿ƒ
    â”‚
    â”œâ”€â”€ department/
    â”‚   â””â”€â”€ index.vue         # ç§‘å®¤åˆ—è¡¨
    â”‚
    â”œâ”€â”€ doctor/
    â”‚   â””â”€â”€ index.vue         # åŒ»ç”Ÿåˆ—è¡¨
    â”‚
    â”œâ”€â”€ appointment/
    â”‚   â”œâ”€â”€ booking.vue       # é¢„çº¦æŒ‚å·é¡µé¢
    â”‚   â””â”€â”€ my-appointments.vue # æˆ‘çš„æŒ‚å·åˆ—è¡¨
    â”‚
    â”œâ”€â”€ medical/
    â”‚   â””â”€â”€ index.vue         # æˆ‘çš„ç—…å†
    â”‚
    â”œâ”€â”€ prescription/
    â”‚   â””â”€â”€ index.vue         # æˆ‘çš„å¤„æ–¹
    â”‚
    â”œâ”€â”€ examination/
    â”‚   â””â”€â”€ index.vue         # æˆ‘çš„ä½“æ£€
    â”‚
    â”œâ”€â”€ payment/
    â”‚   â””â”€â”€ index.vue         # ç¼´è´¹ä¸­å¿ƒ
    â”‚
    â””â”€â”€ message/
        â””â”€â”€ index.vue         # æ¶ˆæ¯ä¸­å¿ƒ
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·è®¤è¯æ¨¡å— (auth)
- `/src/views/login/index.vue` - ç™»å½•ç•Œé¢
- `/src/views/register/index.vue` - æ³¨å†Œç•Œé¢
- `/src/api/auth.ts` - è®¤è¯ API
- `/src/stores/user.ts` - ç”¨æˆ·çŠ¶æ€ç®¡ç†

### 2. é¦–é¡µæ¨¡å— (home)
- `/src/views/home/index.vue` - é¦–é¡µå±•ç¤º
  - è½®æ’­å¹¿å‘Š
  - å¿«æ·å…¥å£ï¼ˆé¢„çº¦/æŒ‚å·/ç—…å†/ç¼´è´¹ï¼‰
  - çƒ­é—¨ç§‘å®¤å¯¼èˆª
  - æ¨èåŒ»ç”Ÿåˆ—è¡¨
  - åŒ»ç–—èµ„è®¯

### 3. é¢„çº¦æŒ‚å·æ¨¡å— (appointment)
- `/src/views/department/index.vue` - ç§‘å®¤é€‰æ‹©
- `/src/views/doctor/index.vue` - åŒ»ç”Ÿé€‰æ‹©
- `/src/views/appointment/booking.vue` - é¢„çº¦è¡¨å•
- `/src/views/appointment/my-appointments.vue` - æˆ‘çš„æŒ‚å·
- `/src/api/department.ts` - ç§‘å®¤ API
- `/src/api/doctor.ts` - åŒ»ç”Ÿ API
- `/src/api/appointment.ts` - é¢„çº¦ API

### 4. åŒ»ç–—è®°å½•æ¨¡å—
- `/src/views/medical/index.vue` - ç—…å†æŸ¥è¯¢
- `/src/views/prescription/index.vue` - å¤„æ–¹ç®¡ç†
- `/src/views/examination/index.vue` - ä½“æ£€è®°å½•

### 5. ç¼´è´¹æ¨¡å— (payment)
- `/src/views/payment/index.vue` - ç¼´è´¹ä¸­å¿ƒ (å¾…ç¼´è´¹/å·²ç¼´è´¹)

### 6. æ¶ˆæ¯ä¸­å¿ƒ (message)
- `/src/views/message/index.vue` - æ¶ˆæ¯åˆ—è¡¨ (æœªè¯»æé†’)

### 7. ä¸ªäººä¸­å¿ƒ (profile)
- `/src/views/profile/index.vue` - ä¸ªäººä¿¡æ¯/åŠŸèƒ½èœå•/é€€å‡ºç™»å½•

## ğŸ¨ å¸ƒå±€ç»„ä»¶

### MobileLayout (ç§»åŠ¨ç«¯å¸ƒå±€)
- åº•éƒ¨å›ºå®š TabBar å¯¼èˆª
- å››ä¸ªä¸»è¦æ ‡ç­¾ï¼šé¦–é¡µã€é¢„çº¦ã€æ¶ˆæ¯ã€æˆ‘çš„
- æ¶ˆæ¯æœªè¯»æ•°çº¢ç‚¹æé†’
- é€‚é… iPhone å®‰å…¨åŒºåŸŸ

## ğŸ”§ æ ¸å¿ƒé…ç½®

### Vite é…ç½® (vite.config.ts)
- API ä»£ç†ï¼š`/api` â†’ `http://localhost:3000`
- è·¯å¾„åˆ«åï¼š`@` â†’ `src`
- ä»£ç åˆ†å‰²ï¼šnaive-uiã€vue-vendor

### è·¯ç”±é…ç½® (router/index.ts)
- è·¯ç”±å®ˆå«ï¼šæ£€æŸ¥ç™»å½•çŠ¶æ€
- é¡µé¢æ ‡é¢˜è‡ªåŠ¨è®¾ç½®
- å—ä¿æŠ¤è·¯ç”±è‡ªåŠ¨é‡å®šå‘åˆ°ç™»å½•é¡µ

### Axios é…ç½® (utils/request.ts)
- è¯·æ±‚æ‹¦æˆªï¼šè‡ªåŠ¨æ·»åŠ  Bearer Token
- å“åº”æ‹¦æˆªï¼šç»Ÿä¸€é”™è¯¯å¤„ç†
- 401 è‡ªåŠ¨è·³è½¬ç™»å½•é¡µ

## ğŸ“± ç§»åŠ¨ç«¯ç‰¹æ€§

1. **è§†å£é…ç½®** - index.html
   - `viewport` ç§»åŠ¨ç«¯é€‚é…
   - ç¦ç”¨ç¼©æ”¾ã€é€‚é…åˆ˜æµ·å±

2. **åº•éƒ¨å¯¼èˆªæ ** - MobileLayout.vue
   - å›ºå®šåº•éƒ¨ 50px
   - 4 ä¸ª Tabï¼šé¦–é¡µã€é¢„çº¦ã€æ¶ˆæ¯ã€æˆ‘çš„
   - é€‚é… iPhone å®‰å…¨åŒºåŸŸ

3. **é¡µé¢è¿‡æ¸¡åŠ¨ç”»** - AppContent.vue
   - å·¦æ»‘/å³æ»‘/æ·¡å…¥æ·¡å‡º
   - æ ¹æ®è·¯ç”±æ·±åº¦è‡ªåŠ¨åˆ¤æ–­

4. **ç§»åŠ¨ç«¯äº¤äº’**
   - ç‚¹å‡»æ€åé¦ˆ (`:active` æ ·å¼)
   - é•¿æŒ‰ä¼˜åŒ–
   - è§¦æ‘¸æ»šåŠ¨ä¼˜åŒ–

## ğŸ” å®‰å…¨ç‰¹æ€§

1. **Token è®¤è¯**
   - LocalStorage æŒä¹…åŒ–
   - è‡ªåŠ¨æ·»åŠ åˆ°è¯·æ±‚å¤´
   - è¿‡æœŸè‡ªåŠ¨ç™»å‡º

2. **è·¯ç”±å®ˆå«**
   - å—ä¿æŠ¤è·¯ç”±æ£€æŸ¥ç™»å½•çŠ¶æ€
   - æœªç™»å½•è‡ªåŠ¨è·³è½¬

3. **API å®‰å…¨**
   - ç»Ÿä¸€é”™è¯¯å¤„ç†
   - 401/403 è‡ªåŠ¨å¤„ç†

## ğŸš€ å¿«é€Ÿå¯åŠ¨

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 3. è®¿é—®åœ°å€
http://localhost:5174
```

## ğŸ“¦ æ„å»ºéƒ¨ç½²

```bash
# ç”Ÿäº§æ„å»º
npm run build

# æ„å»ºäº§ç‰©
dist/
â”œâ”€â”€ index.html
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â””â”€â”€ ...
```

## ğŸ¯ å¼€å‘å»ºè®®

1. **ä»£ç é£æ ¼**
   - ä½¿ç”¨ Composition API + `<script setup>`
   - TypeScript ä¸¥æ ¼æ¨¡å¼
   - éµå¾ª Vue 3 å®˜æ–¹é£æ ¼æŒ‡å—

2. **ç»„ä»¶å¼€å‘**
   - ä½¿ç”¨ Naive UI ç»„ä»¶
   - ç§»åŠ¨ç«¯ä¼˜å…ˆè®¾è®¡
   - å“åº”å¼å¸ƒå±€

3. **API è°ƒç”¨**
   - ç»Ÿä¸€ä½¿ç”¨ `/src/api` æ¨¡å—
   - é”™è¯¯å¤„ç†äº¤ç»™æ‹¦æˆªå™¨
   - ä½¿ç”¨ TypeScript ç±»å‹

4. **çŠ¶æ€ç®¡ç†**
   - ä½¿ç”¨ Pinia Store
   - æŒä¹…åŒ–å­˜å‚¨åˆ° LocalStorage
   - é¿å…è¿‡åº¦ä½¿ç”¨å…¨å±€çŠ¶æ€

---

**é¡¹ç›®è·¯å¾„**: `/home/sherluoke/smart_mt_v2/patient`  
**åˆ›å»ºæ—¶é—´**: 2024-12-06  
**ç‰ˆæœ¬**: v1.0.0
